{% load cpf_format %}
{% load phone_format %}

<div id="customer-table-container" hx-target="this" hx-swap="outerHTML">
    <div class="flex flex-col gap-1 text-sm font-medium">
        <div class="flex flex-col gap-1 text-sm font-medium">
            <div class="grid grid-cols-[2fr_3fr_1.5fr_1.5fr_2fr] bg-black-pearl/50 text-text-muted px-4 py-3 rounded-md border border-slate-border uppercase tracking-wide text-xs">
                <div class="text-left">Nome</div>
                <div class="text-left">E-mail</div>
                <div class="text-left">CPF</div>
                <div class="text-left">Ãšltima Compra</div>
                <div class="text-left">Telefone</div>
            </div>
    
            {% for customer in page_obj %}
                <div class="grid grid-cols-[2fr_3fr_1.5fr_1.5fr_2fr] px-4 py-3 rounded-md border border-slate-border bg-black-pearl/50 hover:bg-black-pearl/70 transition">
                    <div class="text-left">{{ customer.first_name }} {{ customer.last_name }}</div>
                    <div class="text-left">{{ customer.email }}</div>
                    <div class="text-left">{{ customer.cpf|format_cpf }}</div>
                    <div class="text-left">{{ customer.last_order|date:"d/m/Y" }}</div>
                    <div class="text-left">{{ customer.phone|format_phone }}</div>
                </div>
            {% empty %}
                <div class="text-center text-text-muted px-4 py-6">Nenhum item encontrado.</div>
            {% endfor %}
        </div>
    </div>
    
    {% include 'core/partials/_pagination_controls.html' %}
</div>
